<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head}"></head>
<body>
    <header th:replace="~{fragments :: header}"></header>
    <main class="main">
        <side-nav th:replace="~{fragments :: side-nav}"></side-nav>
        <div class="main-container">
            <div class="row d-flex py-4">
                <h1 class="font-weight-bold text-center" >Edit Patient</h1>
            </div>
            <div class="section-white-container">
                <form class="w-100 d-flex flex-column" style="gap: 1rem;" action="#" th:action="@{/patients/update/{id}(id=${id})}" th:object="${patient}" method="post">
                    <div class="row d-flex">
                        <div class="col form-group">
                            <label for="birthDate">Username:</label>
                            <input type="text" readonly class="form-control" id="username" th:field="${patient.username}" name="username"
                                    placeholder="Username">
                            <span class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</span>
                        </div>

                        <div class="col form-group">
                            <label for="birthDate">SSN:</label>
                            <input type="text" readonly class="form-control" id="ssn" th:field="${patient.ssn}" name="ssn" placeholder="Social Security Number"/>
                        </div>

                        <div class="col form-group">
                            <label for="birthDate">Birth Date:</label>
                            <input type="date" readonly class="form-control" id="birthDate" th:field="${patient.birthDate}" name="birthDate"/>
                            <span class="text-danger" th:if="${#fields.hasErrors('birthDate')}" th:errors="*{birthDate}">Birth Date Error</span>
                        </div>
                    </div>
                    <div class="row d-flex">
                        <div class="col form-group">
                            <label for="birthDate">First Name:</label>
                            <input type="text" class="form-control" id="firstName" th:field="${patient.firstName}" name="firstName"
                                    placeholder="First Name">
                            <span class="text-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">First Name Error</span>
                        </div>
        
                        <div class="col form-group">
                            <label for="birthDate">Last Name:</label>
                            <input type="text" class="form-control" id="lastName" th:field="${patient.lastName}" name="lastName"
                                    placeholder="Last Name">
                            <span class="text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Last Name Error</span>
                        </div>

                        <div class="col form-group">
                            <label>General Practitioner:</label>
                            <select class="form-control" type="text" th:field="${patient.physicianId}" id="gp" placeholder="Select General Practitioner">
                                <option th:if="${patient.physicianId == null}" value="" selected>Select General Practitioner</option>
                                <option th:each="physician : ${physicians}" th:value="${physician.id}" th:selected="${physician.id == patient.physicianId}" th:text="${physician.firstName + ' ' + physician.lastName}"></option>
                            </select>
                            <span class="text-danger" th:if="${#fields.hasErrors('physicianId')}" th:errors="${patient.physicianId}">General Practitioner Error</span>
                        </div>
    
                    </div>
                    <div class="row d-flex">
                        
                        <div class="col-4 form-group">
                            <label>Gender:</label>
                            <div class="form-check">
                                <input type="radio" id="male" th:field="${patient.gender}" name="gender" value="Male"/>
                                <label class="form-check-label" for="male">Male</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" id="female" th:field="${patient.gender}" name="gender" value="Female"/>
                                <label class="form-check-label" for="female">Female</label>
                            </div>
                        </div>
        
                        <div class="col-4 form-group">
                            <label>Paid Insurance:</label>
                            <div class="form-check">
                                <input type="radio" id="true" th:field="${patient.hasInsurance}" name="hasInsurance" value="True"/>
                                <label class="form-check-label" for="true">True</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" id="false" th:field="${patient.hasInsurance}" name="hasInsurance" value="False"/>
                                <label class="form-check-label" for="false">False</label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn w-25">Save</button>
                </form>
            </div>
        </div>
    </main>
</body>
</html>
